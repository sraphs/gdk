<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=generator content="Hugo 0.101.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>URLs &#183; Go Development Kit</title><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Source+Code+Pro|Work+Sans:400,700"><link type=text/css rel=stylesheet href=/css/syntax.css><link type=text/css rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon-32x32.png></head><body><div class=PageLayout><header class=PageHeader><a href=https://gocloud.dev/><h1 class=PageLogo><img class=PageLogo-image src=/go-cdk-logo-white.png alt="Go Development Kit"></h1></a></header><main class=MainContent><div class=MainContent-bounds><h1>URLs</h1><p>In addition to creating portable types via provider-specific constructors
(e.g., creating a <code>*blob.Bucket</code> using <a href=https://godoc.org/github.com/sraphs/gdk/blob/s3blob#OpenBucket><code>s3blob.OpenBucket</code></a>), many portable types
can also be created using a URL. The scheme of the URL specifies the provider,
and each provider implementation has code to convert the URL into the data
needed to call its constructor. For example, calling
<code>blob.OpenBucket("s3blob://my-bucket")</code> will return a <code>*blob.Bucket</code> created
using <a href=https://godoc.org/github.com/sraphs/gdk/blob/s3blob#OpenBucket><code>s3blob.OpenBucket</code></a>.</p><p>Each portable API package will document the types that it supports opening
by URL. For example, the <code>blob</code> package supports <code>Bucket</code>s, while the <code>pubsub</code>
package supports <code>Topic</code>s and <code>Subscription</code>s. Each provider implementation will
document what scheme(s) it registers for, and what format of URL it expects.</p><p>Each portable type URL opener will accept URL schemes with an <code>&lt;api>+</code> prefix
(e.g. <code>blob+file:///dir</code> instead of <code>file:///dir</code>, as well as schemes with an
<code>&lt;api>+&lt;type>+</code> prefix (e.g. <code>blob+bucket+file:///dir</code>).</p><p>Each portable API package should include an example using a URL, and
many providers will include provider-specific examples as well.</p><h2 id=muxes>Muxes<a class=anchor href=#muxes aria-label="Link to Section">ðŸ”—</a></h2><p>Each portable type that is openable via URL will have a top-level function
you can call, like <a href=https://godoc.org/github.com/sraphs/gdk/blob#OpenBucket><code>blob.OpenBucket</code></a>. This top-level function uses a default
instance of a <code>URLMux</code> multiplexer to map schemes to a provider-specific
opener for the type. For example, <code>blob</code> has a <a href=https://godoc.org/github.com/sraphs/gdk/blob#BucketURLOpener><code>BucketURLOpener</code></a> interface
that providers implement and then register using <a href=https://godoc.org/github.com/sraphs/gdk/blob#URLMux.RegisterBucket><code>RegisterBucket</code></a> on the
result of <a href=https://godoc.org/github.com/sraphs/gdk/blob#DefaultURLMux><code>DefaultURLMux</code></a>.</p><p>Many applications will work just fine using the default mux through the
top-level <code>Open</code> functions. However, if you want more control, you can create
your own <code>URLMux</code> and register the provider <code>URLOpener</code>s you need. Most
providers will export URLOpeners that give you more fine grained control over
the arguments needed by the constructor. In particular, portable types opened
via URL will often use default credentials from the environment. For example,
the AWS URL openers use the credentials saved by &ldquo;aws login&rdquo; (we don&rsquo;t want
to include credentials in the URL itself, since they are likely to be
sensitive).</p><ol><li>Instantiate the provider&rsquo;s <code>URLOpener</code> with the specific fields you need.
For example, <code>s3blob.URLOpener{ConfigProvider: myAWSProvider}</code> using a
<code>ConfigProvider</code> that holds explicit AWS credentials.</li><li>Create your own instance of the <code>URLMux</code>. For example: <code>mymux := new(blob.URLMux)</code></li><li>Register your custom URLOpener on your mux. For example:
<code>mymux.RegisterBucket(s3blob.Scheme, myS3URLOpener)</code></li><li>Now use your mux to open URLs: <code>mymux.OpenBucket("s3://my-bucket")</code></li></ol></div></main><nav class=Sidenav><ul class=Sidenav-list><li class=Sidenav-section><a href=/ class=Sidenav-sectionLink>Home</a></li><li class=Sidenav-section><a href=/tutorials/ class=Sidenav-sectionLink>Tutorials</a><ul class=Sidenav-pageList><li class=Sidenav-page><a href=/tutorials/cli-uploader/ class=Sidenav-pageLink>Command-Line Uploader</a></li><li class=Sidenav-page><a href=/tutorials/guestbook/ class=Sidenav-pageLink>Guestbook</a></li><li class=Sidenav-page><a href=/tutorials/order/ class=Sidenav-pageLink>Order Processor</a></li></ul></li><li class=Sidenav-section><a href=/howto/ class=Sidenav-sectionLink>How-To Guides</a><ul class=Sidenav-pageList><li class=Sidenav-page><a href=/howto/blob/ class=Sidenav-pageLink>Blob</a></li><li class=Sidenav-page><a href=/howto/pubsub/ class=Sidenav-pageLink>Pub/Sub</a></li><li class=Sidenav-page><a href=/howto/runtimevar/ class=Sidenav-pageLink>Runtime Configuration</a></li><li class=Sidenav-page><a href=/howto/secrets/ class=Sidenav-pageLink>Secrets</a></li></ul></li><li class=Sidenav-section><a href=/concepts/ class=Sidenav-sectionLink>Concepts</a><ul class=Sidenav-pageList><li class=Sidenav-page><a href=/concepts/structure/ class=Sidenav-pageLink>Structuring Portable Code</a></li><li class=Sidenav-page><a href=/concepts/urls/ class=Sidenav-pageLink>URLs</a></li><li class=Sidenav-page><a href=/concepts/as/ class=Sidenav-pageLink>Using provider-specific APIs</a></li></ul></li></ul></nav><footer class=PageFooter><nav><ul class=FooterLinks><li class=FooterLinks-item><a href=https://github.com/sraphs/gdk/ class=FooterLinks-link>GitHub</a></li><li class=FooterLinks-item><a href=https://github.com/sraphs/gdk/issues class=FooterLinks-link>Contact Team</a></li></ul></nav><p class=PageFooter-paragraph>Copyright Â© 2022-2022 The Go Development Kit Authors.
All content released under an <a href=https://github.com/sraphs/gdk/main/LICENSE target=_blank class=PageFooter-link>Apache 2.0 License</a>.</p><p class=PageFooter-paragraph><a href=https://github.com/sraphs/gdk/main/internal/website/content/concepts/urls.md class=PageFooter-link>Improve this page</a> on GitHub.</p></footer></div></body></html>